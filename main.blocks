<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</variable><variable id="V4|PLd}XbLXB0P8rx_g)">list</variable></variables><block type="pxt-on-start" id="[tRc|g$Cy{LT4VM2{IXW" x="0" y="0"><statement name="HANDLER"><block type="esp8266_init" id="~T]B!5{jJb0,:.}|Yq.~"><field name="tx">SerialPin.P16</field><field name="rx">SerialPin.P15</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="esp8266_connect_wifi" id="etz*Icp%C-5~Y~CVVMV@"><comment pinned="true" h="92" w="306">Insert your WiFi SSID and Password</comment><value name="ssid"><shadow type="text" id="7~j+m5,MSI^Zq~R}^)jk"><field name="TEXT"></field></shadow></value><value name="password"><shadow type="text" id=")Fcr=eR;tT4;L6DQ9dhS"><field name="TEXT"></field></shadow></value><next><block type="controls_if" id="8G!tY5S2;N-|BR2aT#32"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="esp8266_is_wifi_connected" id="QWPyC3sDtGZ*jC{tUff_"></block></value><statement name="DO0"><block type="basic_show_icon" id="3tuC{d)T96p|G65dt5aE"><field name="i">IconNames.Happy</field></block></statement><statement name="ELSE"><block type="basic_show_icon" id="4$PPdod3=k+VEG93l0SO"><field name="i">IconNames.Sad</field></block></statement><next><block type="esp8266_init_internet_time" id="@NsD;]rxvm.?~pmCm9U2"><comment pinned="true" h="103" w="300">Set your time zone

- the time zone in Malaysia is (GMT+8)</comment><value name="timezone"><shadow type="math_number_minmax" id="-`^/sjOo;rc[,?3ZP$(M"><mutation min="-11" max="13" label="Timezone" precision="0"></mutation><field name="SLIDER">8</field></shadow></value><next><block type="variables_set" id="fwN%J`tad-z(e8dAy,oJ"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field><value name="VALUE"><shadow type="math_number" id="?xZON.O8;UgDa^5@+s{C"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="BJ{Cd^/cq7cL@B@P:s3^" x="878" y="12"><mutation name="alarm sound" functionid="m}J~_zb)Ul6_BeUU@?D="></mutation><field name="function_name">alarm sound</field><statement name="STACK"><block type="device_play_note" id="iv8%FD_yUdct0y,vV1Iz"><value name="note"><shadow type="device_note" id="BHXi(w,P(RDwy#_d^Wzv"><field name="name">587</field></shadow></value><value name="duration"><shadow type="device_beat" id="#kaLHTf/dtSL{(75I5?e"><field name="fraction">BeatFraction.Whole</field></shadow></value><next><block type="device_play_note" id="Gn5_r5@hoR4ZwOuCQgdr"><value name="note"><shadow type="device_note" id="Bu|?*%G|}|*oNnv*c0r$"><field name="name">659</field></shadow></value><value name="duration"><shadow type="device_beat" id="rg$!FuJC7QPmgKt7`?Hn"><field name="fraction">BeatFraction.Whole</field></shadow></value><next><block type="basic_show_icon" id="UG-}Hae7JbWsQ(Bu==HQ"><field name="i">IconNames.Heart</field></block></next></block></next></block></statement></block><block type="function_definition" id="}uL_jPp`p/ys]CjXQCck" x="876" y="310"><mutation name="turn off alarm" functionid="N;eWv*(e$3;$kS@Nk)^b"></mutation><field name="function_name">turn off alarm</field><statement name="STACK"><block type="music_stop_all_sounds" id="_*4};a:ZY3YQo4u`Mh(0"><next><block type="device_clear_display" id="F!LvZs*~573DIDJ!5a]h"></block></next></block></statement></block><block type="device_forever" id="]6|8%YTV$0n;o=~v4~yX" x="7" y="611"><statement name="HANDLER"><block type="esp8266_update_internet_time" id="#eQlFY{m|a4AGKfTp8w~"><next><block type="controls_if" id="L6OJt7EW:8s-W*{Cd[XA"><mutation elseif="1"></mutation><comment pinned="true" h="155" w="301">Always check the alarm status;

if it's 0, then call (turn off alarm) function

else if 1, then call (alarm sound) function</comment><value name="IF0"><shadow type="logic_boolean" disabled="true"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="PurQ~H23Hu4tX11NLK;D"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="dkooTkeLCUH.oBwTU^3~"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field></block></value><value name="B"><shadow type="math_number" id="c(VJ~c7Y8;QpqmXr:$=."><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="-)=EN-[s4jOC9!oU}[HP"><mutation name="turn off alarm" functionid="N;eWv*(e$3;$kS@Nk)^b"></mutation></block></statement><value name="IF1"><block type="logic_compare" id="R5_?Te-L6J.M?3%}/o3o"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="L@JPN6.(dmDzt!MmyH}-"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field></block></value><value name="B"><shadow type="math_number" id="iMbxwq[D%[[ny?7U}[+3"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="function_call" id="j%g=tEKBr{8yft=kg64v"><mutation name="alarm sound" functionid="m}J~_zb)Ul6_BeUU@?D="></mutation></block></statement><next><block type="controls_if" id="G21J?(.B0+eWc=LVR,Sr"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="|jZVRbHO7K#,P*GX4DGY"><field name="NAME">Button.A</field><comment pinned="true" h="98" w="183">When button A is pressed, turn off alarm</comment></block></value><statement name="DO0"><block type="variables_set" id="hr%865QbNpS#:%jX@$;A"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field><value name="VALUE"><shadow type="math_number" id="H.,krL1cV0p4N9!W2~.Q"><field name="NUM">0</field></shadow></value><next><block type="device_pause" id="dTXk_VqEtZ9}SMMF;Pnb"><value name="pause"><shadow type="timePicker" id="7vJ?r]8y}JR-|)@*821m"><field name="ms">60000</field></shadow></value></block></next></block></statement><value name="IF1"><block type="device_get_button2" id="c;@yYB#|It1V~7.P*nX4"><field name="NAME">Button.B</field><comment pinned="true" h="84" w="202">When button B is pressed, call (snooze) function </comment></block></value><statement name="DO1"><block type="function_call" id="epO#]d=!-1xXhc^O`Y/h"><mutation name="snooze" functionid="1Ps+9f,/^!L,Bem{zYDo"></mutation></block></statement><value name="IF2"><block type="logic_operation" id="}O#h+V[qg#0@Ow:.$9Rc"><field name="OP">AND</field><comment pinned="true" h="95" w="284">Here set the alarm at a certain hour and minute.</comment><value name="A"><block type="logic_compare" id="N,`)?B[W4FK8kGy*r(,d"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="esp8266_get_hour" id="d:4@`Qf%.?d1NQMwH9L5"></block></value><value name="B"><shadow type="math_number" id="jyULBgw=,hrmK43{n;^?"><field name="NUM">6</field></shadow></value></block></value><value name="B"><block type="logic_compare" id="Rzj_N6Q-d7.z2U)OGK-s"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="esp8266_get_minute" id="MjO%Jb9YMJgfus#*5$WX"></block></value><value name="B"><shadow type="math_number" id="2~=S:}1v|M0Xn0ozU;o("><field name="NUM">30</field></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id="rqlG4-5MPImMP%C7tCTY"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field><value name="VALUE"><shadow type="math_number" id="Q.pigsU~C2oAd);nnodT"><field name="NUM">1</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="function_definition" id="?r0w$176gTO4}vb6U!2j" x="855" y="598"><mutation name="snooze" functionid="1Ps+9f,/^!L,Bem{zYDo"></mutation><field name="function_name">snooze</field><statement name="STACK"><block type="controls_if" id="5^tY7cp:=THQG1UEp^k7"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="|H{Wl[ZXa)GJp[E[=6R%"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="@Q[+UD,UlhRn}j{Ql`+y"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field></block></value><value name="B"><shadow type="math_number" id="@,V_C=`}Z!9r9(K%t9x@"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="N]6WC$:y?,O::Zh9t*1B"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field><value name="VALUE"><shadow type="math_number" id="/k]f0w}5yj]IHpeh/9/D"><field name="NUM">0</field></shadow></value><next><block type="device_pause" id="/-rXbaQa)`J5v*]?TN(8"><comment pinned="true" h="101" w="196">Set the snooze duration

5 min = 300000 ms</comment><value name="pause"><shadow type="timePicker" id=";/8yt5nShjk~x|.AS@gm"><field name="ms">300000</field></shadow></value><next><block type="variables_set" id="}o$%mU}jzH:pTi=ar`9^"><field name="VAR" id="HO%sh1i_i2y:N)L7Hv0x">Alarm status</field><value name="VALUE"><shadow type="math_number" id="EioU2V#U1$gT)!j2Ob|E"><field name="NUM">1</field></shadow></value></block></next></block></next></block></statement></block></statement></block></xml>